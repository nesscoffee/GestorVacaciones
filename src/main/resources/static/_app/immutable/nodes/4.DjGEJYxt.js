import{s as L,n as D,b as z}from"../chunks/scheduler.D3aZ0wum.js";import{S as A,i as U,e as h,s as x,b as y,c as m,d as H,m as E,h as C,f as T,g as P,n as O,j as $,k as a,q as F,l as J}from"../chunks/index.UIsMp5c-.js";import{p as G}from"../chunks/stores.DGn9R2r3.js";function K(i){let e,o,_="Menú de borrar empleado",u,s,f="¿Está seguro que desea eliminar este empleado?",v,d,n,l,S,b,j,g,k,r,I="Confirmar Borrado",w,c,M='<button class="svelte-1gyia2h">Volver</button>',N,B;return{c(){e=h("div"),o=h("h1"),o.textContent=_,u=x(),s=h("p"),s.textContent=f,v=x(),d=h("p"),n=y("Valor del documento de identidad (cédula): "),l=y(i[0]),S=x(),b=h("p"),j=y("Nombre: "),g=y(i[1]),k=x(),r=h("button"),r.textContent=I,w=x(),c=h("a"),c.innerHTML=M,this.h()},l(p){e=m(p,"DIV",{class:!0});var t=H(e);o=m(t,"H1",{"data-svelte-h":!0}),E(o)!=="svelte-nczex6"&&(o.textContent=_),u=C(t),s=m(t,"P",{"data-svelte-h":!0}),E(s)!=="svelte-12xr8km"&&(s.textContent=f),v=C(t),d=m(t,"P",{});var V=H(d);n=T(V,"Valor del documento de identidad (cédula): "),l=T(V,i[0]),V.forEach(P),S=C(t),b=m(t,"P",{});var q=H(b);j=T(q,"Nombre: "),g=T(q,i[1]),q.forEach(P),k=C(t),r=m(t,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),E(r)!=="svelte-s7ip8c"&&(r.textContent=I),w=C(t),c=m(t,"A",{href:!0,"data-svelte-h":!0}),E(c)!=="svelte-1betxxr"&&(c.innerHTML=M),t.forEach(P),this.h()},h(){O(r,"type","submit"),O(r,"class","svelte-1gyia2h"),O(c,"href","/listaEmpleados"),O(e,"class","borrarEmpleado")},m(p,t){$(p,e,t),a(e,o),a(e,u),a(e,s),a(e,v),a(e,d),a(d,n),a(d,l),a(e,S),a(e,b),a(b,j),a(b,g),a(e,k),a(e,r),a(e,w),a(e,c),N||(B=F(r,"click",i[2]),N=!0)},p(p,[t]){t&1&&J(l,p[0]),t&2&&J(g,p[1])},i:D,o:D,d(p){p&&P(e),N=!1,B()}}}function Q(i,e,o){let _;z(i,G,n=>o(3,_=n));let u=_.url.searchParams.get("empleado"),s="",f="",v=async()=>{await fetch("http://localhost:8080/api/getInfoEmpleado",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cedula:u})}).then(n=>{n.json().then(l=>{o(0,s=l[0].cedula),o(1,f=l[0].nombre)})})},d=async()=>{await fetch("http://localhost:8080/api/borrarEmpleado",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cedula:u})}).then(n=>{n.json().then(l=>{switch(l){case 50008:alert("Ocurrió un error.");break;case 0:alert(`Empleado ${f}, cedula ${s}, borrado exitosamente.`),window.location.href="http://localhost:8080/listaEmpleado";break}})})};return v(),[s,f,d]}class Y extends A{constructor(e){super(),U(this,e,Q,K,L,{})}}export{Y as component};
