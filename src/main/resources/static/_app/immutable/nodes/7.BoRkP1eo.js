import{s as dt,d as vt,n as st,r as ut,b as ct}from"../chunks/scheduler.D3aZ0wum.js";import{S as pt,i as ht,e as n,s as f,c as a,d as Q,m as d,h as m,g as S,n as r,p as M,o as it,j as _t,k as e,r as rt,q as W,u as ft}from"../chunks/index.UIsMp5c-.js";import{p as mt}from"../chunks/stores.CWHsY3BE.js";function Ct(h){let v,_,B="Men√∫ de insertar movimiento",P,t,i,w="Tipo de movimiento:",D,l,u,R="Cumplir mes",s,N="Bono vacacional",c,X="Disfrute de vacaciones",C,Y="Venta de vacaciones",b,Z="Reversion Debito",x,$="Reversion Credito",V,T,tt="*",j,A,F,k,et="Monto:",q,p,H,E,ot="*",U,J,z,g,nt="Insertar Movimiento",G,I,at='<button class="svelte-6b2h2d">Volver</button>',K,lt;return{c(){v=n("div"),_=n("h1"),_.textContent=B,P=f(),t=n("div"),i=n("label"),i.textContent=w,D=f(),l=n("select"),u=n("option"),u.textContent=R,s=n("option"),s.textContent=N,c=n("option"),c.textContent=X,C=n("option"),C.textContent=Y,b=n("option"),b.textContent=Z,x=n("option"),x.textContent=$,V=f(),T=n("label"),T.textContent=tt,j=f(),A=n("br"),F=f(),k=n("label"),k.textContent=et,q=f(),p=n("input"),H=f(),E=n("label"),E.textContent=ot,U=f(),J=n("br"),z=f(),g=n("button"),g.textContent=nt,G=f(),I=n("a"),I.innerHTML=at,this.h()},l(y){v=a(y,"DIV",{class:!0});var O=Q(v);_=a(O,"H1",{"data-svelte-h":!0}),d(_)!=="svelte-mn7994"&&(_.textContent=B),P=m(O),t=a(O,"DIV",{class:!0});var o=Q(t);i=a(o,"LABEL",{for:!0,"data-svelte-h":!0}),d(i)!=="svelte-1l1o1te"&&(i.textContent=w),D=m(o),l=a(o,"SELECT",{name:!0,id:!0});var L=Q(l);u=a(L,"OPTION",{"data-svelte-h":!0}),d(u)!=="svelte-1k0ks8"&&(u.textContent=R),s=a(L,"OPTION",{"data-svelte-h":!0}),d(s)!=="svelte-8xjfgw"&&(s.textContent=N),c=a(L,"OPTION",{"data-svelte-h":!0}),d(c)!=="svelte-3od9fe"&&(c.textContent=X),C=a(L,"OPTION",{"data-svelte-h":!0}),d(C)!=="svelte-1a0hiis"&&(C.textContent=Y),b=a(L,"OPTION",{"data-svelte-h":!0}),d(b)!=="svelte-by112i"&&(b.textContent=Z),x=a(L,"OPTION",{"data-svelte-h":!0}),d(x)!=="svelte-rc68wp"&&(x.textContent=$),L.forEach(S),V=m(o),T=a(o,"LABEL",{for:!0,style:!0,"data-svelte-h":!0}),d(T)!=="svelte-lehbkf"&&(T.textContent=tt),j=m(o),A=a(o,"BR",{}),F=m(o),k=a(o,"LABEL",{for:!0,"data-svelte-h":!0}),d(k)!=="svelte-hd9ka2"&&(k.textContent=et),q=m(o),p=a(o,"INPUT",{type:!0,id:!0,class:!0}),H=m(o),E=a(o,"LABEL",{for:!0,style:!0,"data-svelte-h":!0}),d(E)!=="svelte-1c6hktu"&&(E.textContent=ot),U=m(o),J=a(o,"BR",{}),z=m(o),g=a(o,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),d(g)!=="svelte-u3bswz"&&(g.textContent=nt),G=m(o),I=a(o,"A",{href:!0,"data-svelte-h":!0}),d(I)!=="svelte-3257v3"&&(I.innerHTML=at),o.forEach(S),O.forEach(S),this.h()},h(){r(i,"for","tipoMov"),u.__value="Cumplir mes",M(u,u.__value),s.__value="Bono vacacional",M(s,s.__value),c.__value="Disfrute de vacaciones",M(c,c.__value),C.__value="Venta de vacaciones",M(C,C.__value),b.__value="Reversion Debito",M(b,b.__value),x.__value="Reversion de Credito",M(x,x.__value),r(l,"name","tipoMov"),r(l,"id","tipoMov"),h[0]===void 0&&vt(()=>h[3].call(l)),r(T,"for","tipoMov"),it(T,"color","red"),r(k,"for","monto"),r(p,"type","text"),r(p,"id","monto"),p.required=!0,r(p,"class","svelte-6b2h2d"),r(E,"for","monto"),it(E,"color","red"),r(g,"type","submit"),r(g,"class","svelte-6b2h2d"),r(I,"href","/listaEmpleados"),r(t,"class","inputs"),r(v,"class","insertarMovimiento")},m(y,O){_t(y,v,O),e(v,_),e(v,P),e(v,t),e(t,i),e(t,D),e(t,l),e(l,u),e(l,s),e(l,c),e(l,C),e(l,b),e(l,x),rt(l,h[0],!0),e(t,V),e(t,T),e(t,j),e(t,A),e(t,F),e(t,k),e(t,q),e(t,p),M(p,h[1]),e(t,H),e(t,E),e(t,U),e(t,J),e(t,z),e(t,g),e(t,G),e(t,I),K||(lt=[W(l,"change",h[3]),W(p,"input",h[4]),W(g,"click",h[2])],K=!0)},p(y,[O]){O&1&&rt(l,y[0]),O&2&&p.value!==y[1]&&M(p,y[1])},i:st,o:st,d(y){y&&S(v),K=!1,ut(lt)}}}function bt(h,v,_){let B;ct(h,mt,s=>_(6,B=s));let P=B.url.searchParams.get("empleado"),t="",i="",w="",D=async()=>{await fetch("http://localhost:8080/api/getInfoEmpleado",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cedula:P})}).then(s=>{s.json().then(N=>{w=N[0].saldo})})},l=async()=>{let s=parseFloat(i);parseFloat(w)-parseFloat(i)<0&&(t=="Disfrute de vacaciones"||t=="Venta de vacaciones"||t=="Reversion de Credito")?alert("El monto ingresado hace el saldo negativo."):parseFloat(i)<0?alert("El monto ingresado es negativo."):await fetch("http://localhost:8080/api/insertarMovimiento",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cedula:P,tipoMovimiento:t,montoFloat:s})}).then(N=>{N.json().then(c=>{switch(c){case 50014:alert("Monto ingresado es negativo.");break;case 50011:alert("El monto ingresado hace el saldo muy negativo.");break;case 50008:alert("Un error interno en la base de datos ocurrio.");break;case 0:alert("Movimiento insertado con exito."),window.location.href="http://localhost:8080/listaEmpleados";break}})})};function u(){t=ft(this),_(0,t)}function R(){i=this.value,_(1,i)}return D(),[t,i,l,u,R]}class Ot extends pt{constructor(v){super(),ht(this,v,bt,Ct,dt,{})}}export{Ot as component};
